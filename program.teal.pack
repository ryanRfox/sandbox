// version 2
intcblock 0 1 5 4 5000 2 3 10000 1000
bytecblock 0x41 0x4d41 0x6941 0x734753 0x734d41 0x734141 0x734153 0x734d46 0x734246 0x734346 0x415341 0x5072 0x5375 0x4753 0x73 0x4d46 0x4246 0x4346 0x76 0x6d77 0x7741 0x6277 0x50726f6772616d 0x6d
intc_0
txn ApplicationID
==
bz label1
global GroupSize
intc_1
==
bz label2
bytec_0
txn Sender
app_global_put
bytec_1
txn Sender
app_global_put
b label3
label1:
bytec_0
app_global_get
dup
store 4
txn Sender
==
bz label4
txn OnCompletion
intc_2
==
bnz label5
txn OnCompletion
intc_3
==
bnz label6
txn OnCompletion
intc_0
==
bnz label7
err
label5:
global GroupSize
intc_1
==
bnz label3
err
label6:
global GroupSize
intc_1
==
bnz label3
err
label7:
global GroupSize
intc_1
==
bz label2
txna ApplicationArgs 0
bytec_2
==
bnz label8
txna ApplicationArgs 0
bytec_3
==
bnz label9
txna ApplicationArgs 0
bytec 4
==
bnz label10
txna ApplicationArgs 0
bytec 5
==
bnz label11
txna ApplicationArgs 0
bytec 6
==
bnz label12
txna ApplicationArgs 0
bytec 7
==
bnz label13
txna ApplicationArgs 0
bytec 8
==
bnz label14
txna ApplicationArgs 0
bytec 9
==
bnz label15
err
label8:
bytec 10
txna ApplicationArgs 1
btoi
app_global_put
bytec 11
txna ApplicationArgs 2
app_global_put
bytec 12
txna ApplicationArgs 3
app_global_put
b label3
label9:
txna ApplicationArgs 1
btoi
dup
store 8
intc_0
==
load 8
intc_1
==
||
bz label2
bytec 13
load 8
app_global_put
b label3
label10:
bytec_1
txna Accounts 1
app_global_put
b label3
label11:
bytec_0
txna Accounts 1
app_global_put
b label3
label12:
txna ApplicationArgs 1
btoi
dup
store 8
intc_0
==
load 8
intc_1
==
||
bz label2
intc_1
bytec 14
load 8
app_local_put
b label3
label13:
txna ApplicationArgs 1
btoi
dup
store 8
load 8
intc 4
<=
bz label2
bytec 15
load 8
app_global_put
b label3
label14:
txna ApplicationArgs 1
btoi
dup
store 8
load 8
intc 4
<=
bz label2
bytec 16
load 8
app_global_put
b label3
label15:
bytec 17
txna ApplicationArgs 1
btoi
app_global_put
b label3
label4:
bytec 13
app_global_get
bz label2
intc_1
txn OnCompletion
==
bnz label16
intc_0
txn ApplicationID
bytec 18
app_local_get_ex
bz label2
store 3
intc_0
bytec 14
app_local_get
bz label2
intc 5
txn OnCompletion
==
bnz label17
txn OnCompletion
intc_0
==
bz label2
txna ApplicationArgs 0
bytec 19
==
bnz label18
txna ApplicationArgs 0
bytec 20
==
bnz label19
txna ApplicationArgs 0
bytec 21
==
bnz label20
err
label16:
global GroupSize
intc_1
==
intc_0
bytec 17
app_global_get
dup
store 8
==
&&
bnz label21
global GroupSize
intc 5
==
load 8
intc_0
>
&&
bz label2
gtxn 1 TypeEnum
intc_1
==
gtxn 1 Receiver
load 4
==
&&
gtxn 1 Amount
load 8
>=
&&
bz label2
label21:
intc_1
balance
intc_0
==
bz label2
bytec 22
bytec 11
app_global_get
concat
txn Sender
concat
bytec 12
app_global_get
concat
sha512_256
dup
store 8
txna Accounts 1
==
bz label2
intc_0
bytec 18
load 8
app_local_put
intc_0
bytec 14
intc_1
app_local_put
b label3
label17:
intc_0
store 7
gtxn 1 TypeEnum
intc_1
==
global GroupSize
intc 5
==
&&
load 3
gtxn 1 Sender
==
&&
gtxn 1 RekeyTo
global ZeroAddress
==
&&
gtxn 1 Fee
global MinTxnFee
==
&&
gtxn 1 CloseRemainderTo
global ZeroAddress
!=
&&
load 7
bytec 23
app_local_get
intc_0
==
&&
bnz label3
err
label18:
bytec 15
app_global_get
store 9
gtxn 1 AssetAmount
store 8
intc_0
store 7
load 3
txna Accounts 1
==
gtxn 1 RekeyTo
global ZeroAddress
==
&&
global GroupSize
intc 5
==
load 9
intc_0
==
&&
bnz label22
global GroupSize
intc 6
==
&&
load 9
intc_0
>
&&
gtxn 2 TypeEnum
intc_1
==
&&
load 8
load 9
*
intc 7
/
dup
store 6
gtxn 2 Sender
load 3
==
bz label23
load 6
gtxn 2 Fee
+
store 7
label23:
gtxn 2 Amount
==
&&
gtxn 2 Receiver
load 4
==
&&
gtxn 2 CloseRemainderTo
global ZeroAddress
==
&&
label22:
gtxn 1 TypeEnum
intc_3
==
&&
gtxn 1 AssetAmount
intc_0
>
&&
gtxn 1 Sender
bytec_1
app_global_get
==
&&
gtxn 1 Fee
global MinTxnFee
==
&&
gtxn 1 AssetCloseTo
global ZeroAddress
==
&&
gtxn 1 XferAsset
bytec 10
app_global_get
==
&&
bz label2
intc_0
bytec 23
app_local_get
load 8
+
store 6
b label24
label19:
load 3
txna Accounts 1
==
global GroupSize
intc 5
==
&&
load 3
gtxn 1 Sender
==
&&
gtxn 1 RekeyTo
global ZeroAddress
==
&&
gtxn 1 TypeEnum
intc_1
==
&&
gtxn 1 Amount
dup
store 7
intc 8
>=
&&
gtxn 1 Fee
global MinTxnFee
==
&&
gtxn 1 CloseRemainderTo
global ZeroAddress
==
&&
bz label2
intc_0
bytec 23
app_local_get
intc_1
balance
load 7
-
gtxn 1 Fee
-
<=
bnz label3
err
label20:
bytec 16
app_global_get
store 9
gtxn 1 TypeEnum
intc_3
==
load 3
txna Accounts 1
==
&&
global GroupSize
intc 5
==
load 9
intc_0
==
&&
bnz label25
global GroupSize
intc 6
==
&&
load 9
intc_0
>
&&
gtxn 2 TypeEnum
intc_1
==
&&
gtxn 1 AssetAmount
load 9
*
intc 7
/
gtxn 2 Amount
==
&&
gtxn 2 Receiver
load 4
==
&&
gtxn 2 CloseRemainderTo
global ZeroAddress
==
&&
gtxn 2 Sender
load 3
==
bz label25
gtxn 2 Fee
gtxn 2 Amount
+
store 7
label25:
load 7
gtxn 1 Fee
+
store 7
gtxn 1 AssetAmount
intc_0
>
&&
gtxn 1 AssetReceiver
bytec_1
app_global_get
dup
store 9
==
&&
gtxn 1 AssetSender
load 9
!=
&&
gtxn 1 XferAsset
bytec 10
app_global_get
==
&&
bz label2
intc_0
bytec 23
app_local_get
gtxn 1 AssetAmount
-
store 6
label24:
intc_0
bytec 23
load 6
app_local_put
intc_1
balance
load 7
-
load 6
>=
bnz label3
err
label2:
intc_0
return
label3:
intc_1
return
